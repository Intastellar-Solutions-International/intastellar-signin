const intastellarLogoSrc="https://www.intastellarsolutions.com/assets/icons/fav/android-icon-192x192.png";class IntastellarAccounts{constructor(){this.IntastellarAPIroot="https://apis.intastellaraccounts.com",this.IntastellarAPILoginRoot="https://www.intastellaraccounts.com"}LogUserIn(){this.IntastellarAPILoginRoot}LogUserOut(){}getPublicData(){}}function signin(){const t=null==document.querySelector("[data-login_uri]")?location.hostname+location.pathname:document.querySelector("[data-login_uri]").getAttribute("data-login_uri"),e=document.querySelector("[data-app-name]").getAttribute("data-app-name"),n=document.querySelector("[data-client_id]").getAttribute("data-client_id"),o=window.open("https://www.intastellaraccounts.com/signin/v2/ws/oauth/oauthchooser?service="+e+"&continue="+t+"&entryFlow="+window.btoa(t)+"&key="+n+"&passive=true&flowName=WebSignin&Entry=webauthsignin","popUpWindow","height=719,width=500,left=100,top=100,resizable=no");window.addEventListener("message",(function(e){const n=e.data;if(document.cookie="c_name="+JSON.parse(window.atob(n)).user_id+"; expire=; domain="+window.location.host,o.postMessage("iframe-token-recieved",e.origin),null==document.querySelector("[data-login_uri]")||null==document.querySelector("[data-login_callback]")){if(null!=document.querySelector("[data-login_uri]"))window.parent.close(),window.location.href="http://"+t+"?token="+n;else if(null!=document.querySelector("[data-login_callback]")){(0,window[document.querySelector("[data-login_callback]").getAttribute("data-login_callback")])(JSON.parse(window.atob(n)))}}else console.error("Intastellar SDK: Please add only 1 of the following: data-login_callback or data-login_uri. Not both")}))}function checkUserLogin(){fetch("https://apis.intastellaraccounts.com/usercontent/js/getuser.php",{method:"GET",credentials:"include"}).then((t=>t.json())).then((t=>{if(200==t.status){const e=t.data,n=document.querySelector(".intastellarSignin"),o=document.querySelector(".intastellarSignIn-info");n.innerHTML+="<img src='"+e.image+"'>",o.innerHTML="Continue as "+e.name}})).catch((t=>{console.log(t)}))}const styleSheet=document.createElement("link");styleSheet.rel="stylesheet",styleSheet.href="https://account.api.intastellarsolutions.com/insign/style.css",document.head.appendChild(styleSheet);const Intastellar={accounts:{id:{renderButton(t,e={}){const n=document.createElement("button"),o=document.createElement("div");o.setAttribute("class","intastellarSignIn-info"),o.innerHTML="Sign in with Intastellar",n.setAttribute("class","IntastellarSignin");const a=document.createElement("img");a.setAttribute("src",intastellarLogoSrc),a.setAttribute("class","intastellar-logo"),n.appendChild(a),n.appendChild(o),null==t&&null==t||(t.appendChild(n),n.addEventListener("click",signin))}}}};